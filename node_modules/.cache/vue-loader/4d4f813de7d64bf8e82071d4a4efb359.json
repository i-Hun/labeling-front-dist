{"remainingRequest":"/Users/hun/labeling-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hun/labeling-vue/src/views/Labeling.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/hun/labeling-vue/src/views/Labeling.vue","mtime":1552461402753},{"path":"/Users/hun/labeling-vue/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/hun/labeling-vue/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/hun/labeling-vue/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/hun/labeling-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hun/labeling-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.labeling {\n\tmargin-top: 50px;\n}\nmark.verb {\n\tbackground-color: #5f5;\n}\n\n.text {\n\tfont-size: 1.1rem;\n}\n\n.context .column {\n\tcursor: pointer;\n\tmargin: 10px;\n}\n\n.personal-info {\n\tmargin: 20px 0;\n}\n",{"version":3,"sources":["Labeling.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuKA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Labeling.vue","sourceRoot":"src/views","sourcesContent":["<template>\n\t<div>\n\t<div class=\"labeling\" v-if=\"data\">\n\t\t<div class=\"personal-info\">\n\t\t\tИмя: <span class=\"name\">{{name}}</span>. <span>Закодировано текстов: {{textsLabeled}}.</span> Этноним: «<mark>{{data.eth_raw}}</mark>». Глагол: «<mark class=\"verb\">{{data.raw_verb}}</mark>». ID текста: {{data.document_id}}.\n\t\t</div>\n\t\t<hr>\n\t<div class=\"columns\">\n\t\t<div class=\"column\">\n\t\t\t<div class=\"text\" v-html=\"data.source_text\">\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class=\"columns\" v-if=\"currentStep === 'isClear'\">\n\t\t<div class=\"column isClear\">\n\t\t\t<div class=\"has-text-centered title\">Понятно ли Вам о чем текст?</div>\n\t\t\t<div class=\"buttons are-large is-centered has-addons\">\n\t\t\t\t<div class=\"button is-large\" @click=\"isClear = 'Да'\">Да</div>\n\t\t\t\t<div class=\"button is-large\" @click=\"isClear = 'Нет'\">Нет</div>\n\t\t\t</div>\n \t\t</div>\n\t</div>\n\t<div class=\"columns\" v-if=\"currentStep === 'isVerb'\">\n\t\t<div class=\"column isVerb\">\n\t\t\t<div class=\"has-text-centered title\">Является ли слово «<mark class=\"verb\">{{data.raw_verb}}</mark>» глаголом?</div>\n\n\t\t\t<div class=\"buttons are-large is-centered has-addons\">\n\t\t\t\t<div class=\"button is-large\" @click=\"isVerb = 'Да'\">Да</div>\n\t\t\t\t<div class=\"button is-large\" @click=\"isVerb = 'Нет'\">Нет</div>\n\t\t\t\t<div class=\"button is-large\" @click=\"isVerb = 'Не понятно'\">Не понятно</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class=\"columns\" v-if=\"currentStep === 'isEthnonym'\">\n\t\t<div class=\"column isEthnonym\">\n\t\t\t<span class=\"has-text-centered title\">Является ли слово «<mark>{{data.eth_raw}}</mark>» этнонимом-существительным либо этническим прилагательным в составе словосочетания, обозначающего этническую группу или этнического персонажа, индивидуального или коллективного?\n\t\t\t</span>\n\t\t\t<abbr title=\"Положительные примеры: японец, русские, таджикская девочка, чеченский тейп, казахский народ).\\n В данном проекте к этнонимам также относятся все этнофолизмы (жиды, хачи, чурки, укропы, русня, нерусь) и некоторые нации и регионализмы, употребляемые как этнонимы (американцы, кавказцы, азиаты, европейцы, южане).\nОтрицательные примеры: «кавказцы и спаниели», «чурки и поленья», «Анрэ Жид», «ресторан «Япоша»», агентство «ЧеченИнформ»»; неправильная лемматизация «Туве Янссон – тува».\">\n\t\t\tПояснение\n\t\t</abbr>\n\n\t\t\t<div class=\"buttons are-large is-centered has-addons\">\n\t\t\t\t<div class=\"button is-large\" @click=\"isEthnonym = 'Да'\">Да</div>\n\t\t\t\t<div class=\"button is-large\" @click=\"isEthnonym = 'Нет'\">Нет</div>\n\t\t\t\t<div class=\"button is-large\" @click=\"isEthnonym = 'Не понятно'\">Не понятно</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class=\"columns\" v-if=\"currentStep === 'isRelated'\">\n\t\t<div class=\"column isRelated\">\n\t\t\t<div class=\"has-text-centered title\">Связаны ли слова «<mark>{{data.raw_verb}}</mark>» и «<mark class=\"verb\">{{data.eth_raw}}</mark>» синтаксической/смысловой связью?</div>\n\t\t\t<div class=\"buttons are-large is-centered has-addons\">\n\t\t\t\t<div class=\"button is-large\" @click=\"isRelated = 'S'\">Да, этническая группа — субъект</div>\n\t\t\t\t<div class=\"button is-large\" @click=\"isRelated = 'O'\">Да, этническая группа — объект</div>\n\t\t\t\t<div class=\"button is-large\" @click=\"isRelated = 'Нет'\">Нет</div>\n\t\t\t\t<div class=\"button is-large\" @click=\"isRelated = 'Не понятно'\">Не понятно</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class=\"columns\">\n\t\t<div class=\"column verbNeg\" v-if=\"currentStep === 'verbNeg'\">\n\t\t\t<div class=\"has-text-centered title\">Оцените по пятибалльной шкале отношение автора к этнической группе / этническому персонажу, выраженное с помощью глагола «<mark>{{data.raw_verb}}</mark>» (-2 — сильно негативное, 2 — сильно позитивное).</div>\n\t\t\t<div class=\"buttons are-large is-centered has-addons\">\n\t\t\t\t<div class=\"button is-large\" @click=\"setVerbNeg(1)\">-2</div>\n\t\t\t\t<div class=\"button is-large\" @click=\"setVerbNeg(2)\">-1</div>\n\t\t\t\t<div class=\"button is-large\" @click=\"setVerbNeg(3)\">0</div>\n\t\t\t\t<div class=\"button is-large\" @click=\"setVerbNeg(4)\">1</div>\n\t\t\t\t<div class=\"button is-large\" @click=\"setVerbNeg(5)\">2</div>\n\t\t\t</div>\n\t\t\t<textarea class=\"textarea\" placeholder=\"Окно для ввода словосочетания на случай, если глагол выражает отношение к этнониму, будучи в составе словосочетания\" v-model=\"verbNegOwn\"></textarea>\n\n\t\t</div>\n\t</div>\n\t<div class=\"columns\" v-if=\"currentStep === 'verbNegContext'\">\n\t\t<div class=\"column verbNegContext\">\n\t\t\t<div class=\"has-text-centered title\">Может ли глагол «<mark class=\"verb\">{{data.raw_verb}}</mark>» в другом контексте выражать негативное отношение к этнической группе?</div>\n\t\t\t<div class=\"buttons are-large is-centered has-addons\">\n\t\t\t\t<div class=\"button is-large\" @click=\"verbNegContext = 'Да'\">Да</div>\n\t\t\t\t<div class=\"button is-large\" @click=\"verbNegContext = 'Нет'\">Нет</div>\n\t\t\t\t<div class=\"button is-large\" @click=\"verbNegContext = 'Не понятно'\">Не понятно</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class=\"columns\" v-if=\"currentStep === 'context'\">\n\t\t<div class=\"column context\">\n\t\t\t<div class=\"has-text-centered title\">Укажите, в каком контексте глагол «<mark class=\"verb\">{{data.raw_verb}}</mark>» может выражать негативное отношение к этническому персонажу / этнической группе.</div>\n\t\t\t<div class=\"columns\">\n\t\t\t\t<div class=\"column box\" @click=\"context = 'S'\">\n\t\t\t\t\tS — этноним-субъект («понаехали азиаты всякие»).\n\t\t\t\t</div>\n\t\t\t\t<div class=\"column box\" @click=\"context = 'O1'\">\n\t\t\t\t\tО1 – глагол в 1 лице + этноним-объект («ненавижу русских»).\n\t\t\t\t</div>\n\t\t\t\t<div class=\"column box\" @click=\"context = 'ОI'\">ОI - глагол в императиве или сходных по смыслу формах + этноним-объект («надо снова депортировать чеченцев»)</div>\n\n\t\t\t\t<div class=\"column\">\n\t\t\t\t\t<div class=\"field\">\n\t\t\t\t\t\t<label for=\"\" class=\"label\">Свой вариант</label>\n\t\t\t\t\t\t<textarea class=\"textarea\" placeholder=\"Свой вариант\" v-model=\"ownContext\"></textarea>\n\t\t\t\t\t</div>\n\t\t\t\t\t<br>\n\t\t\t\t<button class=\"button is-primary\" @click=\"context = ownContext\">\n\t\t\t\t\tОтправить свой вариант\n                </button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class=\"columns\" v-if=\"currentStep === 'textNeg'\">\n\t\t<div class=\"column textNeg\">\n\t\t\t<div class=\"has-text-centered title\">Оцените по пятибалльной шкале отношение автора к этнической группе / этническому персонажу, выраженное с помощью других средств (не кодируемого глагола), если оно есть? (-2 — сильно негативное, 2 — сильно позитивное)</div>\n\n\t\t\t<div class=\"buttons are-large is-centered has-addons\">\n\t\t\t\t<div class=\"button is-large\" @click=\"setTextNeg(1)\">-2</div>\n\t\t\t\t<div class=\"button is-large\" @click=\"setTextNeg(2)\">-1</div>\n\t\t\t\t<div class=\"button is-large\" @click=\"setTextNeg(3)\">0</div>\n\t\t\t\t<div class=\"button is-large\" @click=\"setTextNeg(4)\">1</div>\n\t\t\t\t<div class=\"button is-large\" @click=\"setTextNeg(5)\">2</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class=\"columns\" v-if=\"currentStep === undefined\">\n\t\t<div class=\"column final\">\n\t\t\t<div class=\"has-text-centered title\">Текст размечен</div>\n\t\t\t<p>Ваши ответы:</p>\n\t\t\t<ul>\n\t\t\t\t<li v-if=\"isClear\">\n\t\t\t\t\tПонятен ли текст? <strong>{{isClear}}</strong>\n\t\t\t\t</li>\n\t\t\t\t<li v-if=\"isVerb\">Является ли слово «<mark class=\"verb\">{{data.raw_verb}}</mark>» глаголом? <strong>{{isVerb}}</strong>\n\t\t\t\t</li>\n\t\t\t\t<li v-if=\"isEthnonym\">\n\t\t\t\t\tЯвляется ли слово «<mark>{{data.eth_raw}}</mark>» этнонимом? <strong>{{isEthnonym}}</strong>\n\t\t\t\t</li>\n\t\t\t\t<li v-if=\"isRelated\">\n\t\t\t\t\tСвязаны ли слова «<mark>{{data.raw_verb}}</mark>» и «<mark class=\"verb\">{{data.eth_raw}}</mark>» синтаксической/смысловой связью? <strong>{{isRelated}}</strong>\n\t\t\t\t</li>\n\t\t\t\t<li v-if=\"verbNeg\">\n\t\t\t\t\tНасколько с помощью глагола «<mark>{{data.raw_verb}}</mark>» выражено негативное (либо позитивное) отношение к этнической группе / этническому персонажу? <strong>{{verbNeg - 3}}</strong>\n\t\t\t\t</li>\n\t\t\t\t<li v-if=\"verbNegContext\">\n\t\t\t\t\tМожет ли глагол «<mark class=\"verb\">{{data.raw_verb}}</mark>» в другом контексте выражать негативное отношение к этнической группе? <strong>{{verbNegContext}}</strong>\n\t\t\t\t</li>\n\t\t\t\t<li v-if=\"context\">\n\t\t\t\t\tПостарайтесь, пожалуйста, своими словами указать контекст употребления исследуемых слов. <strong>{{context}}</strong>\n\t\t\t\t</li>\n\t\t\t\t<li v-if=\"textNeg\">\n\t\t\t\t\tВыражено ли в тексте отрицательное (или положительное) отношение к исследуемой этнической группе / персонажу с помощью других средств (не кодируемого глагола)? <strong>{{textNeg - 3}}</strong>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div class=\"buttons has-addons is-centered are-large\">\n\t\t\t\t<div class=\"button is-large\" @click=\"resetSteps()\">Ответить заново</div>\n\t\t\t\t<div class=\"button is-large\" @click=\"sendData()\">Отправить данные</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t</div>\n\t<div v-else>\n\t\t<h1 class=\"title is-1\">\n\t\t\tВы разметили все тексты. Отличная работа!\n\t\t</h1>\n\t</div>\n\t</div>\n</template>\n\n<style>\n\t.labeling {\n\t\tmargin-top: 50px;\n\t}\n\tmark.verb {\n\t\tbackground-color: #5f5;\n\t}\n\n\t.text {\n\t\tfont-size: 1.1rem;\n\t}\n\n\t.context .column {\n\t\tcursor: pointer;\n\t\tmargin: 10px;\n\t}\n\n\t.personal-info {\n\t\tmargin: 20px 0;\n\t}\n</style>\n\n<script>\n// @ is an alias to /src\nimport axios from 'axios';\n\nconst domain = \"https://ihun.pythonanywhere.com\";\n// const domain = \"http://localhost:8080\";\nconst path = [\"isClear\", \"isVerb\", \"isEthnonym\", \"isRelated\", \"verbNeg\", \"verbNegContext\", \"context\", \"textNeg\"];\n\nexport default {\n\tname: 'labeling',\n\tdata () {\n\t\treturn {\n\t\t\tdata: {},\n\t\t\tname: '',\n\t\t\ttextsLabeled: 0,\n\t\t\t// textsRemained: 0,\n\t\t\tisClear: \"\",\n\t\t\tisVerb: \"\",\n\t\t\tisEthnonym: \"\",\n\t\t\tisRelated: \"\",\n\t\t\tverbNeg: \"\",\n\t\t\tverbNegContext: \"\",\n\t\t\ttextNeg: \"\",\n\t\t\tcontext: \"\",\n\t\t\townContext: \"\",\n\t\t\tverbNegOwn: \"\",\n\t\t\tcurrentStep: \"isClear\",\n\t\t\tbranch: new Set(),\n\t\t\tpassedPath: [],\n\t\t\ttimer: new Date()\n\t\t}\n\t},\n\tmounted () {\n\t\tthis.getText();\n\t},\n\tmethods: {\n\t\tsetTextNeg (score) {\n\t\t\tthis.textNeg = score;\n\t\t},\n\t\tsetVerbNeg (score) {\n\t\t\tthis.verbNeg = score;\n\t\t},\n\t\tstartLabeling () {\n\t\t\tlocalStorage.setItem('coder', this.name);\n\t\t\tthis.$router.push({ path: 'labeling' });\n\t\t},\n\t\tgetText() {\n\t\t\tconsole.log(\"getText\");\n\t\t\tconst name = localStorage.getItem('name');\n\t\t\tthis.name = name;\n\t\t\taxios\n\t\t\t\t.get(domain + '/api/text', {params: {name: name}})\n\t\t\t\t.then(response => {\n\t\t\t\t\tthis.textsLabeled = response.data.textsLabeled;\n\t\t\t\t\t// this.textsRemained = response.data.textsRemained;\n\t\t\t\t\tthis.data = response.data.texts;\n\n\t\t\t\t\tthis.data.source_text = this.data.source_text.replace(this.data.eth_raw, `<mark>${this.data.eth_raw}</mark>`);\n\t\t\t\t\tthis.data.source_text = this.data.source_text.replace(this.data.raw_verb, `<mark class=\"verb\">${this.data.raw_verb}</mark>`);\n\t\t\t\t})\n\t\t\tthis.branch = new Set(path);\n\t\t\tconsole.log(\"getText branch\", this.branch.values().next().value, path)\n\t\t\tthis.currentStep = this.branch.values().next().value;\n\t\t\tthis.timer = new Date();\n\t\t},\n\t\tpostText () {\n\t\t\tconst toServerData = {\n\t\t\t\tname: this.name,\n\t\t\t\ttextId: this.data.document_id,\n\t\t\t\teth: this.data.eth_raw,\n\t\t\t\traw_verb: this.data.raw_verb,\n\t\t\t\tisClear: this.isClear,\n\t\t\t\tisVerb: this.isVerb,\n\t\t\t\tisEthnonym: this.isEthnonym,\n\t\t\t\tisRelated: this.isRelated,\n\t\t\t\tverbNeg: this.verbNeg,\n\t\t\t\tverbNegContext: this.verbNegContext,\n\t\t\t\ttextNeg: this.textNeg,\n\t\t\t\tcontext: this.context,\n\t\t\t\tverbNegOwn: this.verbNegOwn,\n\t\t\t\ttimer: new Date() - this.timer\n\t\t\t}\n\n\t\t\tif (!toServerData.textId) {\n\t\t\t\talert(\"Не указан ID текста\");\n\t\t\t\tthrow \"Не указан ID текста\";\n\t\t\t}\n\t\t\tif (!toServerData.name) {\n\t\t\t\talert(\"Не указано имя\");\n\t\t\t\tthrow \"Не указано имя\";\n\t\t\t}\n\n\t\t\tconsole.log(\"Отправляются на сервер\", toServerData);\n\n\t\t\taxios.post(domain + '/api/label', toServerData)\n\t\t\t\t.then(response => {\n\t\t\t\t\tconsole.log(\"post\", response.data)\n\t\t\t\t\tthis.textsLabeled = response.data.textsLabeled;\n\t\t\t\t\tthis.getText();\n\t\t\t\t});\n\n\t\t\tthis.branch = new Set();\n\t\t\tthis.data = {};\n\t\t\tthis.isClear = \"\";\n\t\t\tthis.isVerb = \"\";\n\t\t\tthis.isEthnonym = \"\";\n\t\t\tthis.isRelated = \"\";\n\t\t\tthis.verbNeg = \"\";\n\t\t\tthis.verbNegContext = \"\";\n\t\t\tthis.textNeg = \"\";\n\t\t\tthis.context = \"\";\n\t\t\tthis.ownContext = \"\";\n\t\t\tthis.verbNegOwn = \"\";\n\t\t},\n\t\tsendData() {\n\t\t\tthis.postText();\n\t\t},\n\t\tresetSteps () {\n\t\t\tthis.isClear = \"\";\n\t\t\tthis.isVerb = \"\";\n\t\t\tthis.isEthnonym = \"\";\n\t\t\tthis.isRelated = \"\";\n\t\t\tthis.verbNeg = \"\";\n\t\t\tthis.verbNegContext = \"\";\n\t\t\tthis.textNeg = \"\";\n\t\t\tthis.context = \"\";\n\t\t\tthis.ownContext = \"\";\n\t\t\tthis.verbNegOwn = \"\";\n\t\t\tthis.branch = new Set(path);\n\t\t\tthis.currentStep = this.branch.values().next().value;\n\t\t}\n\t},\n\twatch: {\n\t\tisClear: function(val, oldVal) {\n\t\t\tconsole.warn(\"isClear\", this.currentStep, this.branch, val);\n\t\t\tif (val) {\n\t\t\t\tthis.branch.delete(\"isClear\");\n\t\t\t\tthis.currentStep = this.branch.values().next().value;\n\t\t\t}\n\t\t},\n\t\tisVerb: function(val, oldVal) {\n\t\t\tconsole.warn(\"isVerb\", this.currentStep, this.branch, val);\n\n\t\t\tif (this.isClear === \"Нет\" && (val === \"Нет\" || val === \"Не понятно\")) {\n\t\t\t\tconsole.log(\"Если текст непонятен и Verb? = N or U, прекратить кодирование\");\n\t\t\t\tthis.branch = new Set();\n\t\t\t\tthis.currentStep = this.branch.values().next().value;\n\t\t\t}\n\n\t\t\tif (this.isClear === \"Нет\" && (val === \"Да\")) {\n\t\t\t\tconsole.log(\"Если текст не понятен, но Verb&=Y, далее заполнить только поля verbNegContext, context.\");\n\t\t\t\tthis.branch = new Set([\"verbNegContext\", \"context\"]);\n\t\t\t\tthis.currentStep = this.branch.values().next().value;\n\t\t\t}\n\n\t\t\tif (this.isClear === \"Да\" && (val === \"Нет\" || val === \"Не понятно\")) {\n\t\t\t\tconsole.log(\"Если текст понятен, но Verb&= N or U заполнить только поля isEthnonym, textNeg\")\n\t\t\t\tthis.branch = new Set([\"isEthnonym\", \"textNeg\"]);\n\t\t\t\tthis.currentStep = this.branch.values().next().value;\n\t\t\t}\n\t\t\tif (this.isClear === \"Да\" && (val === \"Да\")) {\n\t\t\t\tconsole.log(\"Текст и глагол понятны\");\n\t\t\t\tthis.branch.delete(\"isVerb\");\n\t\t\t\tthis.currentStep = this.branch.values().next().value;\n\t\t\t}\n\n\t\t},\n\t\tisEthnonym: function(val, oldVal) {\n\t\t\tconsole.warn(\"isEthnonym\", this.currentStep, this.branch, val);\n\t\t\tif ((this.isClear === \"Да\") && (this.isVerb === \"Нет\" || this.isVerb === \"Не понятно\")) {\n\t\t\t\tif (val === \"Да\") {\n\t\t\t\t\tconsole.log(\"Слово — этноним, идём дальше\");\n\t\t\t\t\tthis.branch = new Set([\"textNeg\"]);\n\t\t\t\t\tthis.currentStep = this.branch.values().next().value;\n\t\t\t\t\tthis.branch.delete(\"isEthnonym\");\n\t\t\t\t} \n\t\t\t\tif (val === \"Нет\" || val === \"Не понятно\") {\n\t\t\t\t\tthis.branch = new Set([]);\n\t\t\t\t\tthis.currentStep = this.branch.values().next().value;\n\t\t\t\t\tthis.branch.delete(\"isEthnonym\");\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (val === \"Да\") {\n\t\t\t\t\tconsole.log(\"Слово — этноним, идём дальше\");\n\t\t\t\t\tthis.branch.delete(\"isEthnonym\");\n\t\t\t\t\tthis.currentStep = this.branch.values().next().value;\n\t\t\t\t\tthis.branch.delete(\"isEthnonym\");\n\t\t\t\t}\n\n\t\t\t\tif (val === \"Нет\" || val === \"Не понятно\") {\n\t\t\t\t\tconsole.log(\"Если Ethn?=N or U, далее заполнить только поля verbNegContext, context\");\n\t\t\t\t\tthis.branch = new Set([\"verbNegContext\", \"context\"]);\n\t\t\t\t\tthis.currentStep = this.branch.values().next().value;\n\t\t\t\t\tthis.branch.delete(\"isEthnonym\");\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tisRelated: function(val, oldVal) {\n\t\t\tconsole.warn(\"isRelated\", this.currentStep, this.branch, val);\n\t\t\tif (this.isVerb === \"Да\" && this.isEthnonym === \"Да\" && (val === \"Нет\" || val === \"Не понятно\")) {\n\t\t\t\tthis.branch = new Set([\"verbNegContext\", \"textNeg\"]);\n\t\t\t\tthis.currentStep = this.branch.values().next().value;\n\t\t\t} else {\n\t\t\t\tif (val) {\n\t\t\t\t\tif ((val === \"Нет\") || (val === \"Не понятно\")) {\n\t\t\t\t\t\tconsole.log(\"Если Related?=N or U, далее заполнить только поля verbNegContext , context и textNeg\");\n\t\t\t\t\t\tthis.branch = new Set([\"verbNegContext\", \"context\", \"textNeg\"]);\n\t\t\t\t\t}\n\t\t\t\t\tthis.branch.delete(\"isRelated\");\n\t\t\t\t\tthis.currentStep = this.branch.values().next().value;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tverbNeg: function(val, oldVal) {\n\t\t\tconsole.warn(\"verbNeg\", this.currentStep, this.branch, val);\n\t\t\tif (val) {\n\t\t\t\tthis.branch.delete(\"verbNeg\");\n\t\t\t\tthis.currentStep = this.branch.values().next().value;\n\t\t\t}\n\t\t},\n\t\tverbNegContext: function(val, oldVal) {\n\t\t\tconsole.warn(\"verbNegContext\", this.currentStep, this.branch, val);\n\t\t\tif (this.isClear === \"Да\" && this.isVerb === \"Да\" && this.isEthnonym === \"Да\" && (this.isRelated === \"Нет\" || this.isRelated === \"Не понятно\") && \n\t\t\t\tval === \"Да\") {\n\t\t\t\tconsole.log(\"!!!\")\n\t\t\t\tthis.branch = new Set([\"context\", \"textNeg\"]);\n\t\t\t\tthis.currentStep = this.branch.values().next().value;\n\t\t\t} \n\n\t\t\tif (this.isClear === \"Да\" && this.isVerb === \"Да\" && this.isEthnonym === \"Да\" && (this.isRelated === \"S\" || this.isRelated === \"O\") && \n\t\t\t\t(val === \"Нет\" || val === \"Не понятно\")) {\n\t\t\t\tthis.branch = new Set([\"textNeg\"]);\n\t\t\t\tthis.currentStep = this.branch.values().next().value;\n\t\t\t} \n\t\t\tif (this.isClear === \"Нет\" && this.isVerb === \"Да\") {\n\t\t\t\tconsole.log(\"!\")\n\t\t\t\tif  (val === \"Нет\" || val === \"Не понятно\") {\n\t\t\t\t\tconsole.log(\"!!\")\n\t\t\t\t\tthis.branch = new Set([]);\n\t\t\t\t\tthis.currentStep = this.branch.values().next().value;\n\t\t\t\t}\n\n\t\t\t\tif  (val === \"Да\") {\n\t\t\t\t\tconsole.log(\"!!!\")\n\t\t\t\t\tthis.branch = new Set([\"context\"]);\n\t\t\t\t\tthis.currentStep = this.branch.values().next().value;\n\t\t\t\t}\n\n\n\t\t\t}\n\t\t\tif (this.isVerb === \"Да\" && (this.isEthnonym === \"Нет\" || this.isEthnonym === \"Не понятно\") \n\t\t\t\t&& (this.verbNegContext === \"Нет\" || this.verbNegContext === \"Не понятно\")) {\n\t\t\t\tthis.branch = new Set([\"textNeg\"]);\n\t\t\t\tthis.currentStep = this.branch.values().next().value;\n\t\t\t} else {\n\t\t\t\tif ((this.isClear === \"Нет\" && (this.isVerb === \"Да\"))) {\n\t\t\t\t\tif  (val === \"Нет\" || val === \"Не понятно\") {\n\t\t\t\t\t\tthis.branch = new Set([]);\n\t\t\t\t\t\tthis.currentStep = this.branch.values().next().value;\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tif (val) {\n\t\t\t\t\t\tthis.branch.delete(\"verbNegContext\");\n\t\t\t\t\t\tthis.currentStep = this.branch.values().next().value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\tcontext: function(val, oldVal) {\n\t\t\tconsole.warn(\"context\", this.currentStep, this.branch, val);\n\t\t\tif (this.isVerb === \"Да\" && (this.isEthnonym === \"Нет\" || this.isEthnonym === \"Не понятно\") && (this.verbNegContext === \"Да\")) {\n\t\t\t\t\tthis.branch = new Set([\"textNeg\"]);\n\t\t\t\t\tthis.currentStep = this.branch.values().next().value;\t\n\t\t\t} else {\n\t\t\t\tif (val) {\n\t\t\t\t\tthis.branch.delete(\"context\");\n\t\t\t\t\tthis.currentStep = this.branch.values().next().value;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\ttextNeg: function(val, oldVal) {\n\t\t\tconsole.warn(\"textNeg\", this.currentStep, this.branch, val, this.branch.size);\n\t\t\tif (val) {\n\t\t\t\tconsole.log(\"textNeg val\", val)\n\t\t\t\tthis.branch.delete(\"textNeg\");\n\t\t\t\tthis.currentStep = this.branch.values().next().value;\n\t\t\t}\n\t\t},\n\t\tbranch: function(val, oldVal) {\n\t\t\tconsole.log(\"branch\", val, oldVal, val.size);\n\t\t\tif (val.size === 0) {\n\t\t\t\tconsole.log(\"Кодирование закончено branch\")\n\t\t\t}\n\t\t},\n\t\tcurrentStep: function(val, oldVal) {\n\t\t\tconsole.log(\"currentStep\", val, oldVal);\n\t\t\tif (val === undefined) {\n\t\t\t\tconsole.log(\"Кодирование закончено currentStep\");\n\t\t\t}\n\t\t},\n\t}\n};\n</script>\n"]}]}